## 实验目的
通过这次实验，我要熟悉 C++ 的数据类型、表达式、基本的控制结构、以及其对于C 的部分不同之处，比如命名空间等。同时我还要利用 STL 提供的 string 和 map 容器来简化程序编写，同时对 STL 进行了解。

## 实验环境
操作系统：Arch Linux  
开发工具：VSCode + GCC

## 实验内容
1. 计算名字的相关数据：输入一系列由空格隔开的数据对（名称， 值），名字是一个由空格间隔开的词，值是一个整型和浮点型的数。计算每个用户的总值和平均值，以
及所有用户的总值和平均值。
2. 实现字符串到整型数的转换函数：实现 atoi 函数，来将字符串转换为整型数据。需要支持十六进制，八进制和十进制的转换。
3. 实现整型数到字符串的转换函数：实现 itoa 函数，将整型数据转换为字符串。

## 数据结构与算法说明

### 计算名字的相关数据

* 模块结构及文件组织设计：  
模块 1： main()函数，包括了读取数据和计算。

* 关键数据结构设计：  
数据结构 1：定义了每个名称对应值的数量和总数。(题目没要求逐个输出)
```
struct whatdata
{
	int count;
	double total;
};
```

* 算法:

1. int main()  
作用：主控函数，也实现对题目所需其他内容的测试。  
参数：无参数。  
返回值：总是返回 0。  
计算过程：
	<ol>
	<li>循环读入值对，存入 map 中。
	<li>输出每个值对应的总数和平均数。
	<li>输出所有值的总数和平均数。
	</ol>


### 实现字符串到整型数的转换函数

* 模块结构及文件组织设计：  
模块 1：main()函数，包括了读取数据和调用函数。  
模块 2：transfer 命名空间，其中包含了 atoi 函数，这是为了防止和系统库函数冲突。  

* 关键数据结构设计：
使用了 STL 的 string 容器，写完发现和用字符串数组没啥差别，除了方便得到字符串长度。( string.h：兄弟你把我忘了？ )

* 算法
1. int main()  
作用： 输入字符串然后转换，按 Ctrl+D 结束。  
参数： 无  
返回值： 无  
计算过程：看作用就知道了吧  

2. int transfer::atoi(string toTransfer)
作用： 将字符串转换为整型变量  
参数： 字符串  
返回值： 一个整型数  
计算过程：
	<ol>
	<li>判断正负
	<li>判断进制，进行绝对值转换
	<li>将正负作用于返回值上
	</ol>

### 实现整型数到字符串的转换函数
* 模块结构及文件组织设计：  
模块 1：main()函数，包括了读取数据和调用函数。  
模块 2：transfer 命名空间，其中包含了 itoa 函数，这是为了防止和系统库函数冲突。

* 关键数据结构设计：  
使用了 STL 的 string 容器，在这道题中确实方便了很多，直接通过 + 号就可以拼接字符串了，而不是 string.h 里面的 strcat 函数那样的不便，因为要考虑字符串长度和数组长度。

* 算法

1. int main()  
就一测试函数，没啥可写的

2. string transfer::itoa(int toTransfer)  
作用：将整型变量转换为十进制表示的字符串  
参数：一个整型变量  
返回值：一个字符串  
计算过程：
	<ol>
	<li>生成 0-9 的字符数组，备用。
	<li>判断特殊情况：0 和 INT_MIN 。
	<li>从最后一位开始，转换。
	<li>将正负作用于返回值上。
	</ol>

## 测试用例与测试结果
1. 计算名字的相关数据
```
Input:
9
Maggie 78
Bart 45
Lisa 88
Lisa 99
Burns 89
Bart 98
Maggie 78
Lisa 99
Homer 90

Output:
Bart 2 143 71.5
Burns 1 89 89
Homer 1 90 90
Lisa 3 286 95.3333
Maggie 2 156 78
Total: 764 Avg: 84
```
2. 实现字符串到整型数的转换函数

|输入|输出|
|----|----|
|0x123A|4666|
|-0xFFFFFF|-16777215|
|-0123|-93|
|0777|511|
|123|123|
|0|0|

3. 实现整型数到字符串的转换函数

|输入|输出|
|----|----|
|123|23|
|-1|-1|
|0|0|
|-2147483648|-2147483648|
|2147483649|无输出，程序结束|

## 实验总结
通过本次实验，我对 CPP 相比 C 的一些不同之处有了一定了解，比如系统的输入输出流在这里是一个方便使用的对象。而且 CPP 里面的命名空间和 STL 库我也稍微利用了一下，算是有了一个十分初步的了解。我也对 C++ 的数据类型、表达式、基本的控制结构更加熟悉了。通过这三个实验，我也对库函数里面的 atoi 和 itoa 有了进一步的了解。 
